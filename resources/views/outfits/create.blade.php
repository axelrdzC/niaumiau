<x-app-layout>

    <div class="">

        <!-- layout -->
        <div class="max-w-8xl w-full mx-auto sm:px-6 lg:px-8 flex gap-6">

            <!-- fast filter -->
            <div class="mt-8 flex flex-col h-full gap-2">
                <x-action-button class="w-16 h-16">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 17L6 20L7.5 14L3 9L9.5 8.5L12 3L14.5 8.5L21 9L16.5 14L18 20L12 17Z" stroke="black" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </x-action-button>
                <x-action-button class="w-16 h-16">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.5 3.5H10.5V10.5H3.5V3.5Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3.5 13.5H10.5V20.5H3.5V13.5Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M13.5 3.5H20.5V10.5H13.5V3.5Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M13.5 13.5H20.5V20.5H13.5V13.5Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </x-action-button>
                <x-action-button class="w-16 h-16">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 7L6 4H9C9 4.39397 9.0776 4.78407 9.22836 5.14805C9.37913 5.51203 9.6001 5.84274 9.87868 6.12132C10.1573 6.3999 10.488 6.62087 10.8519 6.77164C11.2159 6.9224 11.606 7 12 7C12.394 7 12.7841 6.9224 13.1481 6.77164C13.512 6.62087 13.8427 6.3999 14.1213 6.12132C14.3999 5.84274 14.6209 5.51203 14.7716 5.14805C14.9224 4.78407 15 4.39397 15 4H18L21 7L20.5 12L18 10.5V20H6V10.5L3.5 12L3 7Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </x-action-button>
                <x-action-button class="w-16 h-16">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13.4463 18.3238L11.9882 13.7348L11.6531 14.9953L10.288 19.1158C10.1905 19.4 10.1115 19.6748 9.96315 19.9389C9.59616 20.5922 8.80484 21.0586 8.05845 21.1281C7.83434 21.149 7.22869 21.1525 7.0114 21.1161L6.16032 21.002C5.14887 20.8232 4.17708 20.5017 3.25585 20.0484L2.72501 19.7683C2.24112 19.4956 2.18948 19.4317 2.29678 18.9143L3.40707 13.3244L4.38265 7.81341C4.50057 7.26624 4.6603 6.71113 4.84018 6.18184L5.09633 5.48457C5.13861 5.35295 5.15295 5.21185 5.18743 5.07816L5.3749 4.4123C5.43999 4.13858 5.48267 3.85841 5.52439 3.58027C5.57612 3.2352 5.57677 2.88859 6.00697 2.85254L17.9929 2.85289C18.5068 2.8655 18.4621 3.50218 18.5166 3.86738C18.5703 4.22769 18.6258 4.69745 18.7575 5.0401C18.8469 5.27302 18.965 5.51956 19.0235 5.76106L19.2107 6.33922L19.6334 7.93965L20.2461 11.3873C20.2576 11.5194 20.2926 11.6651 20.3214 11.7951L20.9507 15.2309C20.9968 15.5052 21.0764 15.7773 21.1151 16.0524L21.1824 16.4062C21.1967 16.529 21.2318 16.6605 21.2589 16.7814L21.7034 18.9436C21.7399 19.0965 21.7919 19.2781 21.713 19.4267L21.7049 19.4416C21.6231 19.5951 21.4432 19.6661 21.2997 19.7504L20.7853 20.0347C19.4681 20.6819 17.7552 21.1287 16.2997 21.131C15.325 21.1325 14.3738 20.6894 13.9452 19.7686C13.8378 19.5379 13.7732 19.2817 13.6944 19.0399L13.4463 18.3238ZM6.30734 3.64707L6.0837 4.90892L9.36078 4.90906C9.42676 4.90998 9.55923 4.92727 9.617 4.90604L9.09026 3.64801L6.30734 3.64707ZM9.99167 3.64707L9.95211 3.65804C9.96226 3.71555 9.99087 3.75814 10.0144 3.81001L10.4935 4.88945C10.5501 4.9092 10.6123 4.90496 10.6717 4.9059L12.9589 4.90672C13.1371 4.90634 13.3231 4.91534 13.4999 4.89563L13.6454 4.54995L14.0396 3.64944L9.99167 3.64707ZM14.9221 3.64707L14.6435 4.28298C14.5493 4.48283 14.4415 4.68795 14.3781 4.8999L17.394 4.90906L17.8983 4.91349L17.7035 3.65288L14.9221 3.64707ZM5.87333 5.62344C5.64385 5.99122 5.09755 8.22718 5.00731 8.72532C5.68693 8.73702 6.22426 8.67662 6.82044 8.30598C7.80216 7.66627 8.1193 6.72348 8.10992 5.62027L5.87333 5.62344ZM15.9037 5.6248L15.9184 6.18202C15.9313 6.34965 15.9494 6.53354 16.0086 6.6916L16.0568 6.84395C16.416 7.85253 17.1145 8.4702 18.1864 8.69466L18.2302 8.70388C18.3309 8.72546 18.4397 8.7248 18.5424 8.72637L18.9888 8.72413C18.8151 7.80296 18.5671 6.89959 18.2726 6.01191C18.2367 5.90394 18.2061 5.71794 18.1546 5.62487L15.9037 5.6248ZM9.59295 5.68672L9.09221 5.68827C9.03685 5.68845 8.95747 5.678 8.90525 5.69448C8.89763 5.98909 8.89531 6.26781 8.84223 6.55838C8.56456 8.07809 7.40054 9.28871 5.86536 9.49944C5.58612 9.53778 5.25727 9.56424 4.9809 9.52534C4.95167 9.52121 4.89493 9.50419 4.868 9.51216L3.41354 17.4285C3.65558 17.53 3.91911 17.5906 4.1705 17.6667L6.92035 18.4223C7.12151 18.4774 7.33566 18.4819 7.45458 18.6799L7.46621 18.6986C7.53195 18.8103 7.52065 18.9569 7.45941 19.0668L7.45149 19.0814C7.33058 19.2976 7.13834 19.2826 6.93207 19.2361L4.01703 18.4564L3.25112 18.2339L3.08344 19.0422C3.78298 19.5415 5.35184 20.0229 6.16618 20.174L6.55121 20.2495C6.69615 20.2709 6.84901 20.295 6.99479 20.3053L7.56783 20.3372C8.23962 20.4007 9.01674 20.0488 9.32935 19.4299C9.40669 19.2767 9.4583 19.1119 9.51066 18.9488L10.4887 15.976C10.7959 15.0508 11.0992 14.1286 11.3153 13.1767L11.43 12.6751C11.5222 12.2754 11.4559 12.3857 11.4483 12.0328L11.4436 5.69609C11.3742 5.68318 11.2999 5.68794 11.2294 5.68761L9.59295 5.68672ZM12.9969 5.68672L12.2048 5.69192L12.2134 10.9863L12.4021 10.9646C13.2721 10.7143 13.2289 10.2795 13.2293 9.52878L13.2295 6.50422C13.2294 6.23945 13.2486 5.95759 13.2251 5.69466L12.9969 5.68672ZM14.0831 5.68672L14.0237 5.6908C14.0006 5.75893 14.0142 5.86252 14.0141 5.93464L14.0142 9.77129C14.0139 10.5905 13.8416 11.2102 13.0192 11.6153C12.7505 11.7476 12.5285 11.7534 12.241 11.7819C12.2579 11.9127 12.2988 12.0623 12.3431 12.1864L13.0829 14.6387C13.0868 14.6544 13.0923 14.6681 13.0981 14.6831L14.629 19.3528C14.6473 19.4072 14.6874 19.4632 14.7173 19.5125C15.0443 20.0525 15.3333 20.0822 15.8319 20.2882C16.1733 20.4292 17.8528 20.19 18.3691 20.0331L19.0141 19.86C19.6833 19.6532 20.3177 19.3721 20.9322 19.0383L20.7621 18.2266L19.9135 18.4678L17.2484 19.2058C17.081 19.2435 16.8554 19.3188 16.6938 19.2284C16.4267 19.0792 16.4072 18.6672 16.6933 18.536C16.778 18.4971 16.8692 18.4796 16.9584 18.455L20.2187 17.5478C20.3277 17.515 20.4871 17.4856 20.5806 17.4248L19.1569 9.52398C17.2442 9.65162 15.633 8.67116 15.1989 6.70447C15.1254 6.37154 15.1046 6.02696 15.106 5.68784L14.0831 5.68672Z" fill="black"/>
                    </svg>
                </x-action-button>
                <x-action-button class="w-16 h-16">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.217 20.0979L4.93684 20.098C4.37542 20.0978 3.82584 19.6623 3.79741 19.0886L3.79492 16.7258C3.79499 16.3947 3.80446 16.1798 4.02098 15.9023C4.1073 15.7917 4.17304 15.8178 4.17297 15.6546L4.1743 13.0367C4.17632 12.8178 4.20592 12.6063 4.23262 12.3889L4.33614 11.6883C4.86625 8.85106 6.88368 6.68796 9.65643 5.94989C10.5595 5.70949 10.0571 5.90988 10.2438 5.38995C10.5204 4.61934 10.9584 4.17059 11.8206 4.05881L11.8211 4.05844C12.6178 3.99591 13.3044 4.41056 13.6406 5.13867L13.6876 5.25C13.7603 5.43577 13.7706 5.61178 13.78 5.80824L14.4431 5.96299C16.4456 6.53756 17.9265 7.71991 18.9377 9.50977L19.3978 10.6358L19.5978 11.3321C19.6453 11.4778 19.6603 11.6441 19.6878 11.7949L19.782 12.4746C19.8283 12.9935 19.8175 13.435 19.8173 13.9548L19.8156 15.7412C19.9191 15.8928 20.007 15.8693 20.1095 16.1309L20.125 16.1684C20.2258 16.4366 20.2018 16.7188 20.2021 16.9994L20.2024 18.6967C20.2021 19.2583 20.1434 19.7751 19.5065 20.0121L19.3878 20.0534C19.1136 20.1329 18.837 20.098 18.5541 20.0981L12.217 20.0979ZM11.8786 4.72697C11.3404 4.79449 10.9293 5.166 10.8727 5.7101L12.1518 5.64694C12.3069 5.64656 12.4662 5.64028 12.6206 5.65275L12.9453 5.68029C13.0015 5.68631 13.0656 5.70202 13.1214 5.69831C13.0361 5.10877 12.4724 4.66071 11.8786 4.72697ZM11.4815 6.31831C8.1239 6.52601 5.63486 8.5883 4.9694 11.918L4.87452 12.5232C4.84846 12.7358 4.82596 12.9482 4.82556 13.1622L4.81935 15.505L12.5334 15.504L19.1705 15.5041L19.17 13.7521C19.1699 13.4434 19.1835 13.1274 19.1633 12.8196C18.9294 9.25163 16.4954 6.75846 12.963 6.36115L12.6517 6.32342C12.2853 6.29548 11.9035 6.31526 11.5355 6.31688L11.4815 6.31831ZM14.962 16.1685L14.2163 16.1692C14.0858 16.1693 13.9484 16.1607 13.8188 16.1748L13.8141 19.0788C13.8141 19.1907 13.8021 19.3136 13.8173 19.4239L15.009 19.4204L16.1552 19.4254L16.1547 16.1737C16.0277 16.1556 15.8845 16.1682 15.7559 16.1682L14.962 16.1685ZM18.173 16.1685L16.8158 16.173L16.8096 19.4211L18.1935 19.4204L18.9102 19.4201C19.1676 19.4194 19.494 19.3981 19.5458 19.0555C19.5643 18.9326 19.5522 18.7927 19.5522 18.6676L19.5508 17.0247C19.5503 16.7635 19.6073 16.2008 19.2099 16.1711L18.173 16.1685ZM4.76137 16.1703C4.61413 16.224 4.44892 16.365 4.44058 16.5327L4.43866 18.7127C4.43913 19.1431 4.44142 19.4241 5.00709 19.4224L6.84979 19.4204L7.15227 19.4215L7.15701 16.1702L4.76137 16.1703ZM7.81954 16.1685L7.80932 19.4291L10.1593 19.4204L10.1596 16.1694L7.81954 16.1685ZM10.8194 16.1687L10.8144 19.1017C10.8141 19.2077 10.8001 19.3268 10.8168 19.4304L13.132 19.4222L13.1619 16.4004C13.1618 16.3409 13.1747 16.2222 13.1532 16.1701L10.8194 16.1687Z" fill="black"/>
                    </svg>    
                </x-action-button>
            </div>
            <!-- selector -->
            <div class="mt-8 p-4 w-1/3 bg-white h-[80vh] overflow-hidden sm:rounded-lg">        
                <!-- buscador -->
                <input type="text" class="w-full rounded-md border mb-4 border-gray-300" placeholder="Buscar...">
                <!-- preview de las prendas -->
                <div class="grid grid-cols-2 w-full gap-2">
                    @foreach ($prendas as $prenda)
                        <div id="{{ $prenda->id }}" class="prenda-item">
                            <x-item-preview draggable="true" ondragstart="drag(event)">
                                <img src="{{ asset('storage/' . $prenda->imagen) }}" 
                                    alt="{{ $prenda->nombre }}" 
                                    class="w-32 h-32 object-cover">
                            </x-item-preview>
                        </div>
                    @endforeach
                </div>
            </div>

            <!-- un preview -->
            <div class="w-full mt-8 h-[80vh] p-4 bg-white rounded-lg shadow-md sm:rounded-lg flex flex-col items-end justify-center">
                <x-color-button onclick="openModal('outfitModal')" class="cursor-pointer text-white font-pixelify bg-[#9471B7] focus:ring-purple-600">
                    Guardar Outfit
                </x-color-button>
                <div id="outfit-container" class="relative w-full h-full flex flex-wrap gap-4" 
                    ondrop="drop(event)" ondragover="allowDrop(event)">
                    <!-- Aquí se soltarán las prendas -->
                </div>
            </div>

            @push('action')
                {{ route('outfits.store') }}
            @endpush
            @include('modales.save-outfit')

        </div>

    </div>

</x-app-layout>
